\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{color, colortbl}
\usepackage{graphicx,array}
\usepackage{enumitem}
\usepackage{multirow}
\usepackage{float} % here for H placement parameter
\usepackage{hyperref}
\usepackage[letterpaper, portrait, margin=1in]{geometry}
\usepackage{helvet}
\renewcommand{\familydefault}{\sfdefault}

\definecolor{LightCyan}{rgb}{0.88,1,1}
\hypersetup{
    colorlinks=true,       	% false: boxed links; true: colored links
    linkcolor=red,          	% color of internal links (change box color with linkbordercolor)
    citecolor=green,        	% color of links to bibliography
    filecolor=magenta,      	% color of file links
    urlcolor=cyan           	% color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
	\caption{Revision History} \label{TblRevisionHistory}
	\begin{tabularx}{\textwidth}{llX}
		\toprule
		\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}        \\
		\midrule
		October 19th 2022        & Back End Developers              & Initial documentation for Hazard Analysis \\
		\bottomrule
	\end{tabularx}
\end{table}

~\newpage

\tableofcontents
\listoffigures
\listoftables

~\newpage

\pagenumbering{arabic}

\section{Introduction}

In today's society, technology and engineering solutions are simply expected to work. The multitude of complex engineering designs and systems created to meet the needs of the world are expected to be infallible in the eyes of the public. When failures do occur, society considers them it shocking. When these failures happen in engineering systems critical to an aspect of safety, health, or some other critical role, people can die. In many cases, these failures are predictable and preventable in the design phase. The causes of such failures are known as hazards.
\subsection{Purpose of Hazard Analysis}

It is therefore necessary for engineers to perform extensive and thorough assessments of the systems they design in the aim to eliminate as many failures as reasonably possible. This is process is called hazard analysis.\\

More formally, hazard analysis is a step in the process to assess risk within an engineering system. Its aim is to identify and assess the potential conditions which may cause failure. These hazards can exist and cause failures alone, or in combination with other hazards or conditions. Once completed, a hazard analysis should provide a comprehensive assessment of the hazards within a system according to the system's components and boundaries, the assumptions critical in performing judgments regarding hazards and the scenarios they may occur in, and the requirements necessary to ensure that these hazards will be mitigated within the realm of reasonable possibility.

\section{Scope}

The purpose of this document is to perform this hazard analysis on the system to be designed by the Back End Developers. This document will first provide a description of the system boundaries and components of the system on an abstract level (both the hardware and software components), and then will list and justify the assumptions made in order to perform this hazard analysis. These assumptions will be kept to a minimum, in the hope to reduce the number of potentially overlooked hazards. The document will then describe the Failure Mode and Effect Analysis (FMEA) done by the team of the Back End Developers, and then detail the specific safety and security requirements that have been discovered in the process of performing the hazard analysis. The document will end with a roadmap describing the steps which will be taken in order to implement the novel discovered requirements, the timeline in which they will be implemented, and what considerations must be made regarding said requirements.

\section{System Boundaries and Components}
The system consists of several components that make up the entire system.

\subsection{\label{Battery_sec}Battery/Power Management system}
This component facilitates stepping down/up the source voltage from the battery to the necessary values required by different parts of the device. Moreover, it consists of a 										charge protection circuit for battery protection (Over-voltage and Discharge). Finally present is a battery level indicator that will generate an alert should the battery life fall below a certain threshold.

\subsection{\label{Sensor_sec}Sensor Array system}
This component represents all the various sensors that will be used to collect the state information about the user. Also consists of various filters to facilitate smooth and accurate data collection.

\subsection{\label{Prompt_sec}Prompt generation system}
This component handles  all prompt generation, from the detection of when a prompt occurs, to its specific creation and finally its display on the screen.

\subsection{\label{Display_sec}Display System}
This system manages all functionality of the device's display, such as prompt display, showing basic user feedback such as date, time, temperature, etc.

\subsection{\label{Storage_sec}Data Storage system}
This system handles all logging and storage of data collected by both the sensor array and the prompt generator. Data is stored along with an indication of which system it came from and all prompts will be 				stored with the data and time of entry.

\subsection{\label{DevMan_sec}Device Manager}
This system handles all connection and communication between the device and the host software.

\subsection{\label{ErrHand_sec}Error Handler - Hardware}
This component constantly checks the states of every system present and ensures that if any of them fail or return an error, an alert is generated. Moreover the system will also try to fix the problem 					wherever possible.

\subsection{Error Handler - Software}
This component monitors the state of the host software and will attempt to solve any errors that arise and will alert the user should the attempts fail.

\subsection{\label{HostSfwr_sec}Host Software}
This system is the primary interface for the researchers to analyze the data collected by the device. It consists of several features that allows the researcher to set different
thresholds for activity tracking, calibrate all the sensors, update and create new records for participants, and finally interact with the data stored on the device.

\subsection{\label{Configuration_sec}Configuration}
This system allows researchers to calibrate the sensors on the device , set and modify the different thresholds for activity tracking and create new prompts.

\subsection{\label{Records_sec}Records}
This system stores all information about users present in the study. Moreover it provides functionality for researchers to create new records for new users.

\subsection{\label{View_sec}Data View}
This is where all data stored on the device can be viewed/ analyzed by the researchers in a graphical manner. The system also contains some functionality for data sorting/parsing and statistical analysis.


\subsection{System Boundary Diagram}
\begin{figure}[H]
	\begin{center}
		\includegraphics[width=0.80\textwidth]{SystemBoundaryDiagram}
		\caption{System Boundary Diagram}
		\label{Fig_SBD}
	\end{center}
\end{figure}


\section{Critical Assumptions }

\begin{itemize}
	\item No wires will come loose during use.
	\item Batteries are plugged in correctly (the positive and negative ends are aligned as intended).
	\item All data are stored in the correct memory location.
	\item All subsystems work as intended.
	\item All off-the-shelf components work was intended.
\end{itemize}

\section{Failure Mode and Effect Analysis}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{table}[H]
	 \centering	
		\begin{tabular}{|p{6em}|p{5em}|p{5em}|p{5em}|p{5em}|p{9em}|}
			\hline
			\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline
	
	
			                          & Display not working                                          
						 &\begin{minipage}[t]{\linewidth}
							\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
								\item Improper circuit connection.
								\item Battery Level too low.
								\item Code malfunction.
								\item Physical damage to display.
							\end{itemize}
						    \end{minipage}
	
			                          & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				                            \item Users cannot answer prompts..
				                            \item Users cannot view any information on the display.
			                            \end{itemize}
	
			                          & Display system returns an error code. Display Led is OFF
			                          & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				                            \item Users cannot answer prompts.
				                            \item Users cannot view any information on the display.
				                            \item Check wiring and run a diagnostic on the display system.
				                            \item Replace faulty hardware.
			                            \end{itemize}
			\tabularnewline\cline{2-6}
	
	
	
			\multirow{-8}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [Display_sec] {Display System} }}
	
			                          & Incorrect information displayed.
			                          & \begin{minipage}[t]{\linewidth}
				                            \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Display Driver faulty.
					\item Improper interaction between Display system and Prompt generation.
				\end{itemize}
			                            \end{minipage}
	
			                          & Users face unexpected outputs causing improper use of device.
			                          & Display system returns an error code.
	
			                          & \begin{minipage}[t]{\linewidth}
				                            \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Let Error Handler try to solve issue.
					\item Perform a manual overview of code.
					\item Perform a system reboot.
				\end{itemize}
			                            \end{minipage}  \tabularnewline\cline{1-6}
		\end{tabular}%\vspace{3mm}
		\caption{\label{tab:Display}Display FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[HR1]{HR1} ,\hyperref[SR1]{SR1}, \hyperref[SR2]{SR2}}
\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		
	\begin{table}[H]
	\centering	
		\begin{tabular}{|p{6em}|p{5em}|p{5em}|p{5em}|p{5em}|p{9em}|}
	
			\hline
			\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 								\tabularnewline\hline
			 & Prompt not generated                                                                   &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Prompt generation code faulty
					\item System stuck in an idle state where no activity is detected.
				\end{itemize}
			\end{minipage}
	
			 &
			\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item Display system will not produce an output.
				\item Users will be unable to provide feedback regarding activity
			\end{itemize}
	
			 & Prompt Generation system returns an error code.
			 & Let Error Handle try to solve the issue  \tabularnewline\cline{2-6}
	
	
	
			\multirow{-8}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [Prompt_sec] {Prompt Generation System}}}
	
			 & Incorrect Prompt Generated
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Prompt generation code faulty
					\item Improper interaction between Prompt generation and Sensor Array
				\end{itemize}
			   \end{minipage}
	
			 & Prompt generated produces unexpected outputs causing improper use of device
			 & Prompt Generation system returns an error code. Test prompt produces unexpected outputs
	
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Let Error Handler try to solve issue.
					\item Check System Array State
					\item Perform a system reboot.
				\end{itemize}
			   \end{minipage}  \tabularnewline\cline{1-6}
	
		\end{tabular}%\vspace{3mm}
	\caption{\label{tab:Prompt}Prompt Generation FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1}, \hyperref[SR2]{SR2}, \hyperref[SR3]{SR3}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		
	\begin{table}[H]
	\centering	
		\begin{tabular}{|p{6em}|p{7em}|p{5em}|p{5em}|p{5em}|p{9em}|}
			\hline
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 								\tabularnewline\hline
			\multirow{16}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [Sensor_sec] {Sensor Array}}}
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Heart rate not detected
					\item Skin voltage not detected
					\item Muscle Movement not detected
					\item No motion detected
				\end{itemize}
			   \end{minipage} &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Device not worn properly
					\item Sensor breaks down, due to passing thresholds limits
					\item Device surface is dusty or contaminated
				\end{itemize}
			\end{minipage}
			 & EMA may not be triggered        & Software check to see if any sensor data is being collected &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Ensure the device has been wrapped around properly for more accurate detection
					\item Reboot the system
					\item Let error handler try to solve the issue
				\end{itemize}
			\end{minipage}  \tabularnewline\cline{1-6}
	
			%
			
			\end{tabular}%\vspace{3mm}
	
			
	
	\caption{\label{tab:Sensor}Sensor Array  FMEA  \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[HR2]{HR2}, \hyperref[HR5]{HR5}, \hyperref[SR1]{SR1}, \hyperref[SR2]{SR2}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	\begin{table}[H]
\centering	
		\begin{tabular}{|p{6em}|p{7em}|p{5em}|p{5em}|p{5em}|p{9em}|}
		
			\hline
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline
		\multirow{16}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [Battery_sec] {Battery management system}}}
			 & Device not starting             & \begin{minipage}[t]{\linewidth}
				                                     \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Device is faulty
					\item Battery has died
					\item Device may have overheated
					\item Water may have damaged the battery
				\end{itemize}
			                                     \end{minipage}                             & Device is not turned on, resulting in no monitoring & Battery dead indicator appears when turning on the device &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Contact the Back End Developers for maintenance.
				\end{itemize}
			\end{minipage}  \tabularnewline\cline{1-6}
		\end{tabular}%\vspace{3mm}

	\caption{\label{tab:Battery}Battery Management  FMEA  \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[HR1]{HR1}, \hyperref[HR3]{HR3},\hyperref[HR4]{HR4}, \hyperref[SR1]{SR1}}
	\end{table}

	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{table}[H]
\centering	
		\begin{tabular}{|p{6em}|p{7em}|p{5em}|p{5em}|p{5em}|p{9em}|}
			%
			\hline
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline
			 & Security Compromised                                     &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Fail-open security check
					\item Error data improperly protected
					\item Malicious cyber attack
				\end{itemize}
			\end{minipage}
			 & Participant data will be made vulnerable to exploitation & Error handler returns strange or incomplete results & Device enters data-lockdown mode, preventing data from being accessed until security issue is resolved. \tabularnewline\cline{2-6}
	
			%
			\multirow{-8}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [ErrHand_sec] {Error Handler}}}
			 & Errors are strange or incomplete                         & \begin{minipage}[t]{\linewidth}
				                                                              \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Stack overflow
					\item Memory leak
					\item Error previously unaccounted for
				\end{itemize}
			                                                              \end{minipage}                     & Persons responsible for responding to errors will be unable to diagnose and address the underlying issue                           & Error comes in an unexpected form, or returns no value & \begin{minipage}[t]{\linewidth}
				                                                                                                                                                                                                                                                                                                 		\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Use different channels to handle device logic and error handling
					\item Ensure that strange errors either return as Optional or Empty List (i.e. any value but null)
				\end{itemize}
			                                                                                                                                                                                                                                                                                                 			\end{minipage}  \tabularnewline\cline{1-6}
		\end{tabular}%\vspace{3mm}
	\caption{\label{tab:Error}Error Handler FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1},\hyperref[SR2]{SR2}, \hyperref[DSRQ1]{DSRQ1}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{table}[H]	
\centering	
		\begin{tabular}{|p{6em}|p{7em}|p{6em}|p{5em}|p{5em}|p{9em}|}
			\hline             
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline                                                                                              &
			Data stored at wrong memory location                                                                             &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Incorrect software commands
					\item Memory space doesn't exist (invalid memory selected)
					\item Insufficient memory space
					\item Physical damage to hardware memory chip
				\end{itemize}
			\end{minipage}                                                                                  &
			Lost and unsaved data                                                                                            &
			Set up error handler to check if each data point is successfully stored at the correct memory location each time &
			Replace faulty hardware or set up correct memory path
			\tabularnewline\cline{2-6}
	
			\multirow{-15}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [Storage_sec] {Data Storage}}}
			                                                                                                                 &
			Data Stored with incorrect type                                                                                  &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Wrong data type used for storing data
				\end{itemize}
			\end{minipage}                                                                                  &
			Analysis program can't interpret data                                                                            &
			Failed data analysis                                                                                             &
			Convert data to correct type
			\tabularnewline\cline{1-6}
			\end{tabular}

	
	\caption{\label{tab:DataStorage}Data Storage FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1}, \hyperref[SR5]{SR5}, \hyperref[DSR1]{DSR1}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	\begin{table}[H]		
\centering		
		\begin{tabular}{|p{6em}|p{7em}|p{6em}|p{5em}|p{5em}|p{9em}|}
			\hline        
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline                                                                                                   
			\multirow{15}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [DevMan_sec] {Device manager}}}
			                                                                                                                 &
			Unable to establish connection                                                                                   &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Loose wires
					\item Incorrect communication protocol
					\item Incorrect parameters for serial packets (size, format, etc.)
				\end{itemize}
			\end{minipage}                                                                                  &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Data can't be transferred between hardware and software
					\item Lost data
				\end{itemize}
			\end{minipage}                                                                                  &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Check list of connected devices on device manager
					\item Visual inspection of wiring and circuitry
					\item Attach an error detection LED on the device
				\end{itemize}
			\end{minipage}                                                                                  &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Make sure all necessary connections are made
					\item Reboot device
					\item Restart host software
				\end{itemize}
			\end{minipage}
			\tabularnewline\cline{1-6}
		\end{tabular}
	\caption{\label{tab:DeviceManager}Device Manager FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1},\hyperref[SR2]{SR2}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{table}[H]
\centering	
		\begin{tabular}{|m{6em}|m{5em}|m{5em}|m{5em}|m{5em}|m{9em}|}
			\hline
	\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline
			 & Records not created and deletion of records                             &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Code that writes to database is faulty.
					\item	Connections between software systems are incorrect.
				\end{itemize}
			\end{minipage}
	
			 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				   \item Present users lose data, new users cannot have data stored.
				   \item Time loss.
			   \end{itemize}
	
			 &
			\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item Records system returns an error code using error checking.
				\item Database trigger for stagnant data.
			\end{itemize}
	
			 & Create redundant data sets and storage units, or cloud storage of data.
			\tabularnewline\cline{2-6}
	
	
			\multirow{-8}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [Records_sec] {Records}}}
	
			 & Corrupted records
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Code is faulty.
					\item Database structure is faulty.
					\item Wrong datatype used for storing data.
				\end{itemize}
			   \end{minipage}
	
			 & Data stored for various users is unusable.
			 &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Detect if data records are returning unusable values, e.g. NaN, Inf, 0, garbage values.
					\item View values stored in database to check for unexpected outputs.
				\end{itemize}
			\end{minipage}
	
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Prevent users from accessing database.
					\item Ensure database is robust prior to deployment through testing.
				\end{itemize}
			   \end{minipage}  \tabularnewline\cline{1-6}
		\end{tabular}%\vspace{3mm}
	\caption{\label{tab:Records}Record System FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1},\hyperref[SR2]{SR2}, \hyperref[SR5]{SR5},\hyperref[DSRQ1]{DSRQ1},\hyperref[DSRQ2]{DSRQ2}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
	
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{table}[H]
\centering		
		\begin{tabular}{|m{6em}|m{5em}|m{5em}|m{5em}|m{5em}|m{9em}|}
			\hline
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline
			 & Data not visible                                                                  &
			\begin{minipage}[t]{\linewidth}
				\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Data collection failure.
					\item Poorly aggregated data.
					\item Incorrect software implementation.
					\item Statistical analysis of data is faulty.
				\end{itemize}
			\end{minipage}
	
			 & Information provided is not useful to researchers or participants.
			 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				   \item Error handling to detect if the software is not performing as it should be.
				   \item Check error codes of device manager.
			   \end{itemize}
	
			 &
			\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item Visual inspection to make sure device is working.
				\item Ensure database is robust prior to deployment through testing
			\end{itemize} \tabularnewline\cline{2-6}
	
	
			\multirow{-8}{*}{\centering\rotatebox[origin=c]{90}{\hyperref [View_sec]{ Data View}}}
	
			 & Graphical data representation incorrect.
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Improper communication with device manager.
					\item Device malfunction, no correct data.
				\end{itemize}
			   \end{minipage}
	
			 & Incorrect observations could be made based on the data.
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Error handling to detect if the software is not performing as it should be.
					\item Check error codes of device manager
				\end{itemize}
			   \end{minipage}
	
			 & \begin{minipage}[t]{\linewidth}
				   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
					\item Visual inspection to make sure device is working.
					\item Use error handler to solve issue.
				\end{itemize}
			   \end{minipage}  \tabularnewline\cline{1-6}
		\end{tabular}%\vspace{3mm}
	\caption{\label{tab:DataView}Data View System FMEA  \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1},\hyperref[SR2]{SR2}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{table}[H]
\centering	
\begin{tabular}{|p{3em}|p{5em}|p{5em}|p{8em}|p{8em}|p{8em}|}
		\hline
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline
		 & Calculation and floating point error  &
		\begin{minipage}[t]{\linewidth}
			\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item Improper units used (metric vs Imperial)
				\item Rounding error
				\item Floating point conversion error
			\end{itemize}
		\end{minipage}

		 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Wrong information can be reported.
			   \item Rounding errors can propagate through different formulae resulting in data inaccuracies.
			   \item Data calculated will be completely wrong due to binary overflow.
		   \end{itemize}

		 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Unit and integration testing for checking proper metrics and calculation.
			   \item Boundary condition testing for detecting binary overflow/floating point conversion errors.
		   \end{itemize}
		 &  \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
		 \item Avoid/fix type conversion and export raw data collected through hardware in case calculation of other metrics for tracker fails.
		 \item Use error handler to solve issue. 
		 \end{itemize} \tabularnewline\cline{2-6}

		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
				  
		 & Memory allocation failed
		 & \begin{minipage}[t]{\linewidth}
			   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			\item Memory fragmentation or overflow due to Dynamic memory allocation.			
			\end{itemize}
		   \end{minipage}

		 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item This can cause data to be overwritten and also failure of storing data.
		   \end{itemize}
		 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Host software stops running and system fails.
		   \end{itemize}

		 & \begin{minipage}[t]{\linewidth}
			   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item Reboot Software and make sure to free memory if not using it during memory allocation.
			\end{itemize}
		   \end{minipage}  \tabularnewline\cline{2-6}
		   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		\multirow{-8}{*}{\centering\rotatebox[origin=c]{90}{Host Software}}
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		 & Security threats and data loss
		 & \begin{minipage}[t]{\linewidth}
			   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item Malware injected.
				\item SQL injection.
			\end{itemize}
		   \end{minipage}

		 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Software could have catastrophic failure and device could stop running.
			   \item SQLi cyberattack can let attackers view or modify the database causing data leaks.
		   \end{itemize}
		 & Unrecognizable patterns and processes running in the host software.
		 & \begin{minipage}[t]{\linewidth}
			   \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Run a closed-loop network to avoid backend database manipulation.
			   \item Limit access of tracker to Internet/IoT devices to avoid hacking and data leakage.
			   \item Perform a manual overview of system and processing running.
			\end{itemize}
		   \end{minipage}  \tabularnewline\cline{1-6}
		  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	\end{tabular}%\vspace{3mm}
	\caption{\label{tab:HostSoftware}Host Software FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1},\hyperref[SR2]{SR2}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{table}[H]
\centering	
	\begin{tabular}{|p{3em}|p{5em}|p{7em}|p{8em}|p{6em}|p{7em}|}
		\hline
\rowcolor{LightCyan}
			\textbf{Design Component} & \textbf{Failure Modes}    & \textbf{Causes of Failure} & \textbf{Effects of Failure} & \textbf{Detection} & \textbf{Recommended Action}					 						\tabularnewline\hline
		 & Threshold adjustment fails &
		\begin{minipage}[t]{\linewidth}
			\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item Threshold settings changed by Researcher not registered correctly.
				\item Code fails to save and keep settings for threshold.
			\end{itemize}
		\end{minipage}

		 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Wrong configuration of device can lead to false measurements and data reported.
		   \end{itemize}

		 &  \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Boundary condition check to see if threshold values entered are reasonable.
			   \item System-wide check for checking last modified date of configuration of device.
		   \end{itemize}
		 & Report error if threshold values are incorrect and Reboot system. \tabularnewline\cline{2-6}
		
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		
		\multirow{-8}{*}{\centering\rotatebox[origin=c]{90}{Configuration of device}}
		 & Calibration fails      &
		\begin{minipage}[t]{\linewidth}
			\begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
				\item System stuck in idle state and does not record reference for calibration.
				\item Not enough power for sensors/system to calibrate.
				\item Code to calibrate sensors and system fails.
			\end{itemize}
		\end{minipage}

		 & \begin{itemize}[nosep, wide=0pt, leftmargin=*, after=\strut]
			   \item Wrong Calibration of system will result in incorrect activity detection.
			   \item Data will be false/will not be measured correctly.
		   \end{itemize}

		 & Display message to check if all calibration is completed correctly.
		 & Reboot system and check wiring to sensors. Let error handler solve issue. \tabularnewline\cline{1-6}

		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\end{tabular}%\vspace{3mm}
	\caption{\label{tab:Configuration}Configuration System FMEA \\\hspace{0.1\textwidth} \textbf{Req:} \hyperref[SR1]{SR1},\hyperref[SR2]{SR2},\hyperref[SR4]{SR4}}
	\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\section{Safety and Security Requirements}

\subsection{Hardware Requirements}
\begin{enumerate}
	\item\label{HR1}\textbf{HR1}: Device components will have sufficient electrical tolerances for Current, Voltage, Temperature etc.\\
	\item\label{HR2}\textbf{HR2}: Fuses will be connected in the circuitry to shut down the device in cases of high current draw.\\
	\item\label{HR3}\textbf{HR3}: Charge protection circuity will be integrated to avoid overcharging/discharging of the battery.\\
	\item\label{HR4}\textbf{HR4}: The intensity of emitted frequencies will be limited to safe levels.\\
\end{enumerate}

\subsection{Software  Requirements}
\begin{enumerate}
	\item\label{SR1}\textbf{SR1}: The Error Handler will initially try to solve all Non-Hardware issues.\\
	\item\label{SR2}\textbf{SR2}: Tests will be conducted for all Software before deployment to the device.\\
	\item\label{SR3}\textbf{SR3}: All users are required to complete the test prompt.\\
	\item\label{SR4}\textbf{SR4}: Configuration setting will fall within accepted boundaries.\\
	\item\label{SR5}\textbf{SR5}: Manipulation of database shall be done with standard DBMS practices.\\
\end{enumerate}

\subsection{Data Storage Requirements }
\begin{enumerate}
	\item\label{DSR1}\textbf{DSR1}: All data to be backed up, in case of power failure.\\
\end{enumerate}


\subsection{Data Security Requirements }
\begin{enumerate}
	\item\label{DSRQ1}\textbf{DSRQ1}: 	Access to records will be restricted to administrative users with encrypted ssh access key.\\
	\item\label{DSRQ2}\textbf{DSRQ2}: 	The device will not modify user data unnecessarily.\\ 	
\end{enumerate}



\pagebreak
\section{Roadmap}
%Possible Priorities:
%Low
%High
%Very High
\begin{table}[H]
	\caption{Road Map} \label{RoadMap}
	\begin{tabularx}{\textwidth}{llX}
		\toprule
		\textbf{When to Implement} & \textbf{Requirement} & \textbf{Priority}        \\
		\midrule
		During Course         	& HR1               	& Low					\\
		         			& HR2              		& High 					\\
		          			& HR3                   	& High                   	     		\\
						& HR4 			& Very High 			 \\	
		          			& HR5                   	& Very High                   	     \\
		          			& SR1                   	& Low                   	     \\
		          			& SR2     			& High                   	     \\
		          			& SR4                   	& High                   	     \\
		          			& SR5                   	& Low                   	     \\
		          			& DSR1                   	& Very High                   	     \\
		          			& DSRQ2                   & Very High                   	     \\
		Postponed*		& SR2** 			& High                               \\
						& SR3 			& Low                               \\
						& DSRQ1 			& Very High                               \\
		\bottomrule
	\end{tabularx}
\end{table}

\textit{*Requirement implementation postponed past course completion.}\\
\textit{**Regarding software imported to device after course completion.}\\

Postponed requirements are not of lower priority than the requirements to be completed during the course. However, these postponed requirements can only come into effect once the device begins operation in its intended use cases. Otherwise, they are meaningless during the development phase. In addition, low priority values do not mean that the requirement may be dropped. Instead, it means that the implementation of said requirement may be easier, or less critical to the safety of the device, safety of the user, or functionality in general.\\

\section*{Appendix}
\subsection*{Therac-25 case study}
The Back End Developers would like to take a section of this document to describe the importance of hazard analyses (and other relevant documentation). A perfect example of this is the Therac-25.\\

The Therac-25 was a radiotherapy machine designed by Atomic Energy Canada Limited (AECL) in 1982. It was designed to treat cancer by sending beams of high-energy particles (either electrons or x-rays) through a patient's tumor, thereby killing it. This machine was one of the first of its kind to be computer controlled; using software to direct its functions rather than interdependent physical mechanisms. \cite{leveson-1999} Considered state-of-the-art at the time, the Therac-25 promised to revolutionize radiotherapy.\\

However, there were problems. Operators of the machine would find that they encountered many error messages from the computer console, of which none were explained by AECL. These errors were non-descript, and often simple read 'MALFUNCTION' followed by a number. The same operators stated that they had grown used to these messages, and often ignored them and proceeded with treatments. Also, none really knew how the Therac-25 was programmed. The original developer had developed the software for the previous Therac-6 and Therac-20 models of radiotherapy machines, and had since left the company. AECL had directly ported the software into the Therac-25, and did not test the combination of the software and the new hardware properly.\\

Cancer patients treated using the Therac-25 began to report issues. They entered the machine thinking that the procedures would be painless (which is usually true for radiotherapy). However, they often felt powerful shocks and intense burning sensations around the areas that the Therac-25 would administer radiation. Later on, these same patients would fall heavily sick with symptoms identical to those with acute radiation poisoning. Some patients had to have entire limbs removed due to intense radiation damage, and none knew why. The AECL assured the operators that the machine was incapable of administering deadly doses of radiation, and attested to its safety.\cite{leveson-turner-1993} In reality, the machine was exposing patients to doses of radiation hundreds of times greater than what was prescribed.\cite{baase-henry-2019} Between 1985 and 1987, three people died of radiation exposure due to the Therac-25, and two others sustained lifelong injuries.\\

A later investigation revealed that when operators changed from the electron mode of the machine to the x-ray mode in a certain way, the Therac-25 would fail to move a dampening shield between the fully powered x-ray and the patient. This dampening shield served to lower intensity of the x-ray beam to safe levels. The software would correctly detect an error, but simply displayed a window with the text 'MALFUNCTION 54'. Having grown used to these messages, the operators would proceed with treatment without the shield in place. In addition, a flag variable which would instruct the machine to perform safety checks was designed to be set by incrementation rather than being set to a fixed value. This flag would often overflow from its maximum value of 255 to zero, which instructed the machine to bypass safety checks. A later review would reveal that the Therac-25 had eleven separate critical engineering and institutional failures which would have put a patient's life in danger. The combination of these factors caused the Therac-25 to give unlucky patients massive radiation overdoses. In response to this incident, the International Electrotechnical Commission (IEC) released standard IEC 62304; a standard which details development lifecycle standards specifically for software present on medical devices. It also describes the dangers and guidance regarding Software of Unknown Pedigree (SOUP).\\

The worst part is that none of this had to happen. Should a hazard analysis have been performed, the team at AECL who designed the Therac-25 would have known that unaccounted arithmetic overflows could bypass safety features. They would have known that the software written by the original Therac-6 and Therac-20 developer could not be maintained and troubleshot even for the most basic errors. They would have known that non-descript errors in a system like the Therac-25 could potentially be life-threatening. They would never have assured machine operators that overdoses were impossible. Had they done so, they would have never decided that a direct port of the Therac-20 software would have been appropriate for the system they were designing. They may have thrown out the software all together and started from scratch. This would have taken much more time and many more resources than a simple port, but that team had a responsibility to ensure that the potential hazards of the Therac-25 were accounted for and mitigated. It would have been a good decision. As they did not make it, three patients died from treatments meant to save their lives.\cite{rose_1994}\\

Events like these are a sobering reminder of the responsibilities that engineers have to the products they design, the users of said products, and to the world that their systems exist in. \textbf{A hazard analysis is an essential document to ensure that catastrophic failures do not occur as a result of an engineer's work.} It can act as a reminder to engineers that there is a reason to all of this procedure, and that documentation is essential because the risks are real. It is the responsibility of every engineer to ensure cases such as the Therac-25 never happen again.\\


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Error Codes}
To facilitate error handling, every system will return an error code that represents the status of that system. These error codes follow the following format, BED\_ERR\_ERRORTYPE
For example BED\_ERR\_NONE represent that the system is working correctly. Some more examples of error codes are:
\begin{itemize}
	\item BED\_ERR\_PARAM\_ERR		 	: Represents an error with the parameters of the function.
	\item BED\_ERR\_GENERAL			 	: Represents a generic error that has not been cataloged yet.
	\item BED\_ERR\_INVALID\_DATA\_SIZE	: Represents an error related to a size mismatch in what is stored within a block of memory or variable.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliographystyle{plainnat}
\bibliography{../../refs/References}






























%%%%%%%%%%%%%%


\end{document}